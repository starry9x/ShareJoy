{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/groups.css') }}">
<style>
    body {
        background-color: #2C2C2C;
    }
</style>
{% endblock %}

{% block content %}
<div class="found-container">
    <div class="celebration-icon">{% if buddy_name %}ðŸŽ‰{% else %}ðŸ‘‹{% endif %}</div>

    <h1 class="found-title">{% if buddy_name %}Good News!{% else %}Welcome!{% endif %}</h1>
    <p class="found-message">{% if buddy_name %}Your buddy has been found{% else %}You're in! We'll match you with a buddy when more members join{% endif %}</p>

    <div class="buddy-match">
        <div class="buddy-person">
            <div class="buddy-avatar">
                <i class="fa-solid fa-user"></i>
            </div>
            <p class="buddy-name">You</p>
        </div>

        <div class="connection-line"></div>

        <div class="buddy-person">
            <div class="buddy-avatar">
                <i class="fa-solid fa-user-tie"></i>
            </div>
            <p class="buddy-name">{{ buddy_name if buddy_name else 'No match yet' }}</p>
        </div>
    </div>

    <p class="found-note">*click anywhere to dismiss</p>

    <a href="{{ url_for('group_chat', group_id=group.id) }}" class="btn-continue">
        Enter Group Chat <i class="fa-solid fa-comments"></i>
    </a>
</div>

<script>
    // Allow clicking anywhere to continue
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.btn-continue')) {
            window.location.href = "{{ url_for('group_chat', group_id=group.id) }}";
        }
    });
</script>
{% endblock %}
