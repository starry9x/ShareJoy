{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/achievements.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="achievements-container">
    <!-- Header with back button -->
    <div class="achievements-header">
        <a href="{{ url_for('profile') }}" class="back-button" aria-label="Go back to profile">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </a>
        <div class="header-content">
            <h1>Achievements & Progress</h1>
            <p class="subtitle">Track your accomplishments and stay motivated with your goals</p>
        </div>
    </div>

<!-- Stats Cards -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon badge-icon">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 5L25 15H35L27 22L30 32L20 26L10 32L13 22L5 15H15L20 5Z" fill="white"/>
                </svg>
            </div>
            <div class="stat-info">
                <p class="stat-label">BADGES EARNED</p>
                <h2 class="stat-value">6/81</h2>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon activity-icon">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="8" y="5" width="24" height="28" rx="2" stroke="white" stroke-width="2"/>
                    <line x1="12" y1="12" x2="28" y2="12" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="18" x2="28" y2="18" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="24" x2="22" y2="24" stroke="white" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </div>
            <div class="stat-info">
                <p class="stat-label">THIS MONTH</p>
                <h2 class="stat-value">3 Activities</h2>
            </div>
        </div>
        <div class="stat-card streak-card">
            <div class="stat-icon streak-icon">
                <!-- UPDATED: Fire icon (orange and white only) -->
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 8C20 8 14 16 14 22C14 26.4183 17.5817 30 22 30C26.4183 30 30 26.4183 30 22C30 16 22 8 22 8C22 8 24 14 24 18C24 20.2091 22.2091 22 20 22C17.7909 22 16 20.2091 16 18C16 14 20 8 20 8Z" fill="white"/>
                </svg>
            </div>
            <div class="stat-info">
                <p class="stat-label">CURRENT STREAK</p>
                <h2 class="stat-value">14 Days</h2>
            </div>
        </div>
    </div>

    <!-- Milestone Banner -->
    <div class="milestone-banner">
        <div class="milestone-icon">
            <!-- UPDATED: Trophy/Medal icon using Font Awesome -->
            <i class="fas fa-trophy" style="font-size: 60px; color: #FDB022;"></i>
        </div>
        <div class="milestone-content">
            <h2>Monthly Milestone Achieved! ðŸŽ‰</h2>
            <p>You've completed 3 shared activities this month. Keep up the great work!</p>
        </div>
    </div>

    <!-- Trophies & Badges Section -->
    <section class="badges-section">
        <div class="section-header">
            <div class="section-title">
                <h2>Trophies & Badges</h2>
                <p>Earn badges by completing activities, reaching milestones, and engaging with the community. Unlock all badges to become a champion!</p>
            </div>
        </div>
        <div class="badges-preview">
            <!-- First Steps - White Star in Orange Circle -->
            <div class="badge-item unlocked">
                <div class="badge-circle orange">
                    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M30 10L35 25L50 28L38 38L42 53L30 45L18 53L22 38L10 28L25 25L30 10Z" fill="white"/>
                    </svg>
                </div>
                <h3>First Steps</h3>
                <p>Complete your first activity</p>
            </div>
            <!-- Social Butterfly - White Butterfly in Blue Circle -->
            <div class="badge-item unlocked">
                <div class="badge-circle blue">
                    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Left wing -->
                        <ellipse cx="22" cy="28" rx="10" ry="14" fill="white"/>
                        <!-- Right wing -->
                        <ellipse cx="38" cy="28" rx="10" ry="14" fill="white"/>
                        <!-- Body -->
                        <ellipse cx="30" cy="30" rx="3" ry="12" fill="white"/>
                        <!-- Antennae -->
                        <path d="M28 18C28 18 26 14 24 12M32 18C32 18 34 14 36 12" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        <!-- Wing details -->
                        <circle cx="22" cy="24" r="2.5" fill="#60A5FA"/>
                        <circle cx="38" cy="24" r="2.5" fill="#60A5FA"/>
                    </svg>
                </div>
                <h3>Social Butterfly</h3>
                <p>Join 5 group discussions</p>
            </div>
            <!-- Consistency King - White Calendar with Checks in Purple Circle -->
            <div class="badge-item unlocked">
                <div class="badge-circle purple">
                    <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Calendar body -->
                        <rect x="15" y="18" width="30" height="28" rx="2" fill="white"/>
                        <!-- Calendar header -->
                        <rect x="15" y="15" width="30" height="6" rx="1" fill="white"/>
                        <!-- Check marks (7 days) -->
                        <path d="M20 26L22 28L25 24" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M28 26L30 28L33 24" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M36 26L38 28L41 24" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M20 34L22 36L25 32" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M28 34L30 36L33 32" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M36 34L38 36L41 32" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M20 42L22 44L25 40" stroke="#A855F7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h3>Consistency King</h3>
                <p>7 day activity streak</p>
            </div>
            <a href="{{ url_for('badges') }}" class="view-all-btn">
                View all
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7 3L14 10L7 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>
        </div>
    </section>

    <!-- Progress Tracking Section -->
    <section class="progress-section">
        <div class="section-header">
            <h2>Progress Tracking</h2>
            <p>Track your ongoing activities and progress toward your goals. Consistency is key to success!</p>
        </div>

        <!-- Monthly Goal Progress -->
        <div class="goal-progress">
            <div class="goal-header">
                <h3>Monthly Goal Progress</h3>
                <span class="progress-percentage">60%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 60%"></div>
            </div>
        </div>

        <!-- Activity List -->
        <div class="activity-list">
            <div class="activity-item">
                <div class="activity-icon-wrapper blue-bg">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="9" cy="7" r="4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89318 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="activity-details">
                    <h4>Group Discussions</h4>
                    <p>Participate in community discussions</p>
                </div>
                <span class="activity-status">2/5 completed</span>
            </div>

            <div class="activity-item">
                <div class="activity-icon-wrapper blue-bg">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <rect x="9" y="3" width="6" height="4" rx="1" stroke="white" stroke-width="2"/>
                        <path d="M9 12L11 14L15 10" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="activity-details">
                    <h4>Learning Modules</h4>
                    <p>Complete interactive learning modules</p>
                </div>
                <span class="activity-status">5/8 completed</span>
            </div>

            <div class="activity-item">
                <div class="activity-icon-wrapper blue-bg">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="activity-details">
                    <h4>Shared Activities</h4>
                    <p>Collaborate with other users</p>
                </div>
                <span class="activity-status">3/4 completed</span>
            </div>
        </div>

        <a href="{{ url_for('activity_create') }}" class="start-activity-btn">
            + Start New Activity
        </a>
    </section>

    <!-- Progress Tips Section -->
    <section class="tips-section">
        <h2>Progress Tips</h2>
        
        <div class="tips-list">
            <div class="tip-card">
                <div class="tip-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 4L20 12H28L22 18L24 26L16 21L8 26L10 18L4 12H12L16 4Z" fill="#1E40AF"/>
                    </svg>
                </div>
                <div class="tip-content">
                    <h3>Badge Strategy</h3>
                    <p>Focus on completing "First Steps" and "Social Butterfly" badges first. These are the easiest to achieve and will motivate you to continue.</p>
                </div>
            </div>

            <div class="tip-card">
                <div class="tip-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 16L12 24L28 8" stroke="#1E40AF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4 24H28" stroke="#1E40AF" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="tip-content">
                    <h3>Consistency Matters</h3>
                    <p>Try to complete at least one activity every day to maintain your streak. Even small actions count toward your progress!</p>
                </div>
            </div>

            <div class="tip-card">
                <div class="tip-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 4C16 4 8 12 8 18C8 22.4183 11.5817 26 16 26C20.4183 26 24 22.4183 24 18C24 12 16 4 16 4Z" stroke="#1E40AF" stroke-width="2"/>
                        <circle cx="16" cy="10" r="2" fill="#1E40AF"/>
                        <circle cx="10" cy="14" r="2" fill="#1E40AF"/>
                        <circle cx="22" cy="14" r="2" fill="#1E40AF"/>
                    </svg>
                </div>
                <div class="tip-content">
                    <h3>Community Power</h3>
                    <p>Shared activities progress faster and are more enjoyable. Invite friends or join existing groups to collaborate.</p>
                </div>
            </div>

            <div class="tip-card">
                <div class="tip-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="12" stroke="#1E40AF" stroke-width="2"/>
                        <circle cx="16" cy="16" r="8" stroke="#1E40AF" stroke-width="2"/>
                        <circle cx="16" cy="16" r="4" fill="#1E40AF"/>
                    </svg>
                </div>
                <div class="tip-content">
                    <h3>Set Realistic Goals</h3>
                    <p>Start with small, achievable goals and gradually increase them. Completing 2-3 activities per week is a great starting point.</p>
                </div>
            </div>

            <div class="tip-card">
                <div class="tip-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 16C4 16 8 8 16 8C24 8 28 16 28 16C28 16 24 24 16 24C8 24 4 16 4 16Z" stroke="#1E40AF" stroke-width="2"/>
                        <path d="M8 4L12 8M24 4L20 8M12 28L8 24M20 28L24 24" stroke="#1E40AF" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="tip-content">
                    <h3>Share Your Progress</h3>
                    <p>Sharing your achievements with friends can increase motivation and accountability. Celebrate your milestones!</p>
                    <button class="share-progress-btn">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 5L14 3L12 1M14 3H9C7.93913 3 6.92172 3.42143 6.17157 4.17157C5.42143 4.92172 5 5.93913 5 7V8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4 11L2 13L4 15M2 13H7C8.06087 13 9.07828 12.5786 9.82843 11.8284C10.5786 11.0783 11 10.0609 11 9V8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Share Progress
                    </button>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
    // Share Progress functionality
    const shareBtn = document.querySelector('.share-progress-btn');
    
    shareBtn.addEventListener('click', () => {
        if (navigator.share) {
            navigator.share({
                title: 'My Progress',
                text: 'Check out my achievements! I\'ve earned 6 badges and maintained a 14-day streak! ðŸŽ‰',
                url: window.location.href
            }).then(() => {
                console.log('Shared successfully');
            }).catch((error) => {
                console.log('Error sharing:', error);
            });
        } else {
            alert('Share feature: 6 badges earned, 14-day streak, 3 activities completed this month!');
        }
    });
</script>
{% endblock %}